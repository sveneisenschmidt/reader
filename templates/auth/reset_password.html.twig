{% extends 'auth/base.html.twig' %}

{% block title %}Reset Password | Reader{% endblock %}
{% block header_actions %}Reset Password{% endblock %}
{% block page_id %}reset-password{% endblock %}
{% block intro %}Enter your email, authenticator code, and a new password to reset your account.{% endblock %}

{% block form %}
    {{ form_start(form, {'attr': {'class': 'form', 'novalidate': 'novalidate'}}) }}

    <div class="form-row">
        {{ form_label(form.email) }}
        {{ form_widget(form.email, {'attr': {'required': true}}) }}
        {{ form_errors(form.email) }}
    </div>

    <div class="form-row">
        {{ form_label(form.otp) }}
        {{ form_widget(form.otp, {attr: {class: 'otp-input', maxlength: 6, inputmode: 'numeric', pattern: '[0-9]{6}', autocomplete: 'one-time-code', placeholder: '000000', required: true}}) }}
        {{ form_errors(form.otp) }}
    </div>

    <div class="form-row form-row-passwords">
        <div>
            {{ form_label(form.password.first) }}
            {{ form_widget(form.password.first, {'attr': {'required': true}}) }}
            {{ form_errors(form.password.first) }}
        </div>
        <div>
            {{ form_label(form.password.second) }}
            {{ form_widget(form.password.second, {'attr': {'required': true}}) }}
            {{ form_errors(form.password.second) }}
        </div>
    </div>
    {{ form_errors(form.password) }}

    <button type="submit">Reset Password</button>

    <p class="form-link"><a href="{{ path('auth_login') }}">Back to Login</a></p>

    {{ form_end(form) }}
{% endblock %}
